function getClickHandler(){return function(t,e){var s="index.html#"+t.srcUrl;chrome.tabs.create({url:s})}}var status=!0;chrome.browserAction.onClicked.addListener(function(t){"true"==status?(status=!1,chrome.browserAction.setIcon({path:"icons/16x16.png"})):(status=!0,chrome.browserAction.setIcon({path:"icons/icon-active.png"})),chrome.tabs.query({active:!0,currentWindow:!0},function(t){chrome.tabs.sendMessage(t[0].id,{status:status})})}),chrome.tabs.onActivated.addListener(function(){"true"==status?chrome.browserAction.setIcon({path:"icons/icon-active.png"}):chrome.browserAction.setIcon({path:"icons/16x16.png"}),chrome.tabs.query({active:!0,currentWindow:!0},function(t){chrome.tabs.sendMessage(t[0].id,{status:status})})}),chrome.runtime.onMessage.addListener(function(t,e,s){"getStatus"==t.status&&s({status:status})}),chrome.contextMenus.create({title:"crop image",type:"normal",contexts:["image"],onclick:getClickHandler()});